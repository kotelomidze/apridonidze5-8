
<!DOCTYPE html>
<html lang="ka">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ქართული პარონიმები - სავარჯიშოები</title>
    <!-- External Libraries -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Fira+GO:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Fira GO', sans-serif;
            background-color: #f1f5f9;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
<script type="importmap">
{
  "imports": {
    "react/": "https://esm.sh/react@^19.2.3/",
    "react": "https://esm.sh/react@^19.2.3"
  }
}
</script>
<link rel="stylesheet" href="/index.css">
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- DATA ---
        const PARONYM_THEORY = {
            'აღქმა/აღთქმა': 'აღქმა ნიშნავს გარკვეული ფაქტისა თუ მოვლენის გაცნობიერებას. აღთქმა ნიშნავს „დაპირებას“, „დანაპირებს“, „ღვთის სიტყვას“.',
            'კამპანია/კომპანია': 'კომპანია არის გაერთიანება, ამხანაგობა ან მეგობართა ჯგუფი. კამპანია არის მასშტაბური საზოგადოებრივი ან სამხედრო-პოლიტიკური ღონისძიება.',
            'სწორად/სწორედ': 'სწორად = მართებულად, უშეცდომოდ, პირდაპირ. სწორედ = ზუსტად, სახელდობრ (გამაძლიერებელი ნაწილაკი).',
            'პირი/პიროვნება': 'პირი არის ზოგადი, ოფიციალური ინდივიდი (თანამდებობის პირი). პიროვნება არის ინდივიდუალური თვისებების მქონე ადამიანი.'
        };

        const RAW_EXERCISES = [
            { id: 1, originalSentence: "ისრაელს აღქმულ ქვეყანას უწოდებენ.", paronym: "აღქმულ", correctParonym: "აღთქმულ", incorrectParonym: "აღქმულ", explanation: "ისრაელი არის „აღთქმული ქვეყანა“ (დაპირებული მიწა).", context: 'აღქმა/აღთქმა' },
            { id: 2, originalSentence: "ამ მისიის შესასრულებლად გაიგზავნა შესანიშნავი პირი.", paronym: "პირი", correctParonym: "პიროვნება", incorrectParonym: "პირი", explanation: "გამორჩეულ ინდივიდზე საუბრისას ვიყენებთ „პიროვნებას“.", context: 'პირი/პიროვნება' },
            { id: 3, originalSentence: "ბევრი უცხოური თუ ადგილობრივი ფირმა და კამპანიაა შექმნილი.", paronym: "კამპანია", correctParonym: "კომპანია", incorrectParonym: "კამპანია", explanation: "ბიზნეს გაერთიანებას „კომპანია“ ეწოდება.", context: 'კამპანია/კომპანია' },
            { id: 4, originalSentence: "არასწორედ დასმულ კითხვაზე ძნელია სწორად უპასუხო.", paronym: "არასწორედ", correctParonym: "არასწორად", incorrectParonym: "არასწორედ", explanation: "„როგორ?“ კითხვაზე პასუხია „სწორად“ (მართებულად).", context: 'სწორად/სწორედ' },
            { id: 5, originalSentence: "ასეთ კომპანიაში დროსტარება კარგია.", paronym: "კომპანიაში", correctParonym: "კომპანიაში", incorrectParonym: "კამპანიაში", explanation: "მეგობართა ჯგუფს „კომპანია“ ეწოდება.", context: 'კამპანია/კომპანია' },
            { id: 6, originalSentence: "ბატონმა მსახურს დახმარება აღუთქვა.", paronym: "აღუთქვა", correctParonym: "აღუთქვა", incorrectParonym: "აღიქვა", explanation: "აღთქმა ნიშნავს დაპირებას.", context: 'აღქმა/აღთქმა' },
            { id: 7, originalSentence: "ეს ჩემი ახლანდელი კამპანიონია.", paronym: "კამპანიონი", correctParonym: "კომპანიონი", incorrectParonym: "კამპანიონი", explanation: "პარტნიორი არის „კომპანიონი“.", context: 'კამპანია/კომპანია' },
            { id: 8, originalSentence: "გთხოვთ სწორად გამიგოთ.", paronym: "სწორად", correctParonym: "სწორად", incorrectParonym: "სწორედ", explanation: "მართებულად გაგება არის „სწორად“.", context: 'სწორად/სწორედ' },
            { id: 9, originalSentence: "დაისჯება თითოეული პიროვნება.", paronym: "პიროვნება", correctParonym: "პირი", incorrectParonym: "პიროვნება", explanation: "ოფიციალურ კონტექსტში რიცხვით სახელთან გამოიყენება „პირი“.", context: 'პირი/პიროვნება' },
            { id: 10, originalSentence: "დიდ წვეულებას კამპანიას უწოდებენ.", paronym: "კამპანიას", correctParonym: "კომპანიას", incorrectParonym: "კამპანიას", explanation: "მხიარულ საზოგადოებას ეწოდება „კომპანია“.", context: 'კამპანია/კომპანია' },
            { id: 11, originalSentence: "ყირიმის კამპანიის დროს ბევრი დაიღუპა.", paronym: "კამპანიის", correctParonym: "კამპანიის", incorrectParonym: "კომპანიის", explanation: "სამხედრო მოქმედებებს ეწოდება „კამპანია“.", context: 'კამპანია/კომპანია' },
            { id: 12, originalSentence: "ეს ფეხბურთელი ცუდი პიროვნება აღმოჩნდა.", paronym: "პიროვნება", correctParonym: "პიროვნება", incorrectParonym: "პირი", explanation: "ადამიანის ხასიათზე საუბრისას ვიყენებთ „პიროვნებას“.", context: 'პირი/პიროვნება' },
            { id: 13, originalSentence: "ეს წიგნი შეიცავს ძველ აღთქმას.", paronym: "აღთქმას", correctParonym: "აღთქმას", incorrectParonym: "აღქმას", explanation: "საღვთო წერილის ნაწილს ჰქვია „აღთქმა“.", context: 'აღქმა/აღთქმა' },
            { id: 14, originalSentence: "ვატერლოოს კომპანია უდიდესი იყო.", paronym: "კომპანია", correctParonym: "კამპანია", incorrectParonym: "კომპანია", explanation: "ისტორიულ ლაშქრობას ეწოდება „კამპანია“.", context: 'კამპანია/კომპანია' },
            { id: 15, originalSentence: "ვინ არის შენი კომპანიონი?", paronym: "კომპანიონი", correctParonym: "კომპანიონი", incorrectParonym: "კამპანიონი", explanation: "ბიზნეს პარტნიორი არის კომპანიონი.", context: 'კამპანია/კომპანია' },
            { id: 16, originalSentence: "კითხვას სწორად უპასუხა.", paronym: "სწორად", correctParonym: "სწორად", incorrectParonym: "სწორედ", explanation: "უპასუხა როგორ? – სწორად.", context: 'სწორად/სწორედ' },
            { id: 17, originalSentence: "ინფორმაცია ძნელი აღსაქმელია.", paronym: "აღსაქმელია", correctParonym: "აღსაქმელია", incorrectParonym: "აღსათქმელია", explanation: "ინფორმაციის გაგება არის „აღქმა“.", context: 'აღქმა/აღთქმა' },
            { id: 18, originalSentence: "თქვენ მე სწორედ ვერ გამიგეთ.", paronym: "სწორედ", correctParonym: "სწორად", incorrectParonym: "სწორედ", explanation: "მართებულად გაგება არის „სწორად“.", context: 'სწორად/სწორედ' },
            { id: 19, originalSentence: "ის ცნობილი სასულიერო პიროვნება იყო.", paronym: "პიროვნება", correctParonym: "პირი", incorrectParonym: "პიროვნება", explanation: "სტატუსთან (სასულიერო) ვიყენებთ „პირს“.", context: 'პირი/პიროვნება' },
            { id: 20, originalSentence: "უცხო პირთა შესვლა აკრძალულია.", paronym: "პირთა", correctParonym: "პირთა", incorrectParonym: "პიროვნებათა", explanation: "ოფიციალურ განცხადებებში ვიყენებთ „პირს“.", context: 'პირი/პიროვნება' },
            { id: 21, originalSentence: "მე თუ სწორედ გავიგე, არ მოდიხართ.", paronym: "სწორედ", correctParonym: "სწორად", incorrectParonym: "სწორედ", explanation: "მართებულად გაგება არის „სწორად“.", context: 'სწორად/სწორედ' },
            { id: 22, originalSentence: "უფლის წინაშე აღთქმა დადეს.", paronym: "აღთქმა", correctParonym: "აღთქმა", incorrectParonym: "აღქმა", explanation: "პირობის მიცემა არის „აღთქმა“.", context: 'აღქმა/აღთქმა' },
            { id: 23, originalSentence: "რომანტიკულად აღიქვა მოვლენები.", paronym: "აღიქვა", correctParonym: "აღიქვა", incorrectParonym: "აღითქვა", explanation: "მოვლენის გააზრება არის „აღქმა“.", context: 'აღქმა/აღთქმა' },
            { id: 24, originalSentence: "უხერხულობაა უტიფართა კამპანიაში.", paronym: "კამპანიაში", correctParonym: "კომპანიაში", incorrectParonym: "კამპანიაში", explanation: "ადამიანთა ჯგუფი არის „კომპანია“.", context: 'კამპანია/კომპანია' },
            { id: 25, originalSentence: "ადვილად აღითქვა რთული აზრები.", paronym: "აღითქვა", correctParonym: "აღიქვა", incorrectParonym: "აღითქვა", explanation: "აზრების გაგება არის „აღქმა“.", context: 'აღქმა/აღთქმა' },
            { id: 26, originalSentence: "საარჩევნო კამპანიის წარმატება.", paronym: "კამპანიის", correctParonym: "კამპანიის", incorrectParonym: "კომპანიის", explanation: "საარჩევნო ღონისძიებები არის „კამპანია“.", context: 'კამპანია/კომპანია' },
            { id: 27, originalSentence: "საარჩევნო კომპანია ფაზაშია.", paronym: "კომპანია", correctParonym: "კამპანია", incorrectParonym: "კომპანია", explanation: "საარჩევნო პროცესი არის „კამპანია“.", context: 'კამპანია/კომპანია' },
            { id: 28, originalSentence: "სამოქალაქო პირები ებრძვიან ერთმანეთს.", paronym: "პირები", correctParonym: "პირები", incorrectParonym: "პიროვნებები", explanation: "სტატუსთან (სამოქალაქო) ვიყენებთ „პირს“.", context: 'პირი/პიროვნება' },
            { id: 29, originalSentence: "ისტორიული პირი არ არის.", paronym: "პირი", correctParonym: "პირი", incorrectParonym: "პიროვნება", explanation: "პერსონაჟი ან ფიგურა არის „პირი“.", context: 'პირი/პიროვნება' },
            { id: 30, originalSentence: "სწორედ ამ ამბისთვის გირეკავდი.", paronym: "სწორედ", correctParonym: "სწორედ", incorrectParonym: "სწორად", explanation: "„ზუსტად“ მნიშვნელობით ვიყენებთ „სწორედ“-ს.", context: 'სწორად/სწორედ' },
            { id: 31, originalSentence: "ტექსტი აღსათქმელად ადვილია.", paronym: "აღსათქმელად", correctParonym: "აღსაქმელად", incorrectParonym: "აღსათქმელად", explanation: "ტექსტის გაგება არის „აღქმა“.", context: 'აღქმა/აღთქმა' },
            { id: 32, originalSentence: "იმ პიროვნებათა სახელები დაერქვას.", paronym: "პიროვნებათა", correctParonym: "პირთა", incorrectParonym: "პიროვნებათა", explanation: "ოფიციალურ სტილში ჯგუფზე საუბრისას ვიყენებთ „პირს“.", context: 'პირი/პიროვნება' },
            { id: 33, originalSentence: "ხორცი სწორად გაჭრა.", paronym: "სწორად", correctParonym: "სწორად", incorrectParonym: "სწორედ", explanation: "თანაბრად/მართებულად გაჭრა არის „სწორად“.", context: 'სწორად/სწორედ' },
            { id: 34, originalSentence: "ახლა სწორედ შენზე ვლაპარაკობდით.", paronym: "სწორედ", correctParonym: "სწორედ", incorrectParonym: "სწორად", explanation: "„ზუსტად შენზე“ – სწორია „სწორედ“.", context: 'სწორად/სწორედ' },
            { id: 35, originalSentence: "ინდივიდი თავისებურად აღიქვამს.", paronym: "აღიქვამს", correctParonym: "აღიქვამს", incorrectParonym: "აღითქვამს", explanation: "მოვლენის გააზრება არის „აღქმა“.", context: 'აღქმა/აღთქმა' },
            { id: 36, originalSentence: "სწორედ ისეთი ზომის ქოლგაა.", paronym: "სწორედ", correctParonym: "სწორედ", incorrectParonym: "სწორად", explanation: "„ზუსტად ისეთი“ – სწორია „სწორედ“.", context: 'სწორად/სწორედ' },
            { id: 37, originalSentence: "ღვთის წინაშე დავდოთ აღქმა.", paronym: "აღქმა", correctParonym: "აღთქმა", incorrectParonym: "აღქმა", explanation: "ფიცი არის „აღთქმა“.", context: 'აღქმა/აღთქმა' },
            { id: 38, originalSentence: "რამდენიმე პირი გამოყო.", paronym: "პირი", correctParonym: "პირი", incorrectParonym: "პიროვნება", explanation: "რიცხვით სახელთან გამოიყენება „პირი“.", context: 'პირი/პიროვნება' },
            { id: 39, originalSentence: "ხუთი პიროვნება გავიდეს.", paronym: "პიროვნება", correctParonym: "პირი", incorrectParonym: "პიროვნება", explanation: "რაოდენობასთან გამოიყენება „პირი“.", context: 'პირი/პიროვნება' },
        ];

        const shuffleArray = (array) => {
            const newArr = [...array];
            for (let i = newArr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArr[i], newArr[j]] = [newArr[j], newArr[i]];
            }
            return newArr;
        };

        // --- APP COMPONENT ---
        const App = () => {
            const [state, setState] = useState({
                userName: '',
                userSurname: '',
                currentStep: 'welcome',
                currentIndex: 0,
                answers: [],
                exercises: [],
            });

            useEffect(() => {
                setState(prev => ({ ...prev, exercises: shuffleArray(RAW_EXERCISES) }));
            }, []);

            const handleStart = () => {
                if (state.userName.trim() && state.userSurname.trim()) {
                    setState(prev => ({ ...prev, currentStep: 'quiz' }));
                } else {
                    alert('გთხოვთ შეიყვანოთ სახელი და გვარი');
                }
            };

            const handleAnswer = (selectedText) => {
                const currentEx = state.exercises[state.currentIndex];
                const isCorrect = selectedText === currentEx.correctParonym;
                const newAnswer = { exerciseId: currentEx.id, selectedText, isCorrect };

                const nextIndex = state.currentIndex + 1;
                const isFinished = nextIndex >= state.exercises.length;

                setState(prev => ({
                    ...prev,
                    answers: [...prev.answers, newAnswer],
                    currentIndex: isFinished ? prev.currentIndex : nextIndex,
                    currentStep: isFinished ? 'report' : 'quiz',
                }));
            };

            if (state.currentStep === 'welcome') {
                return (
                    <div className="flex flex-col items-center justify-center min-h-screen px-4 fade-in">
                        <div className="bg-white p-10 rounded-3xl shadow-2xl max-w-md w-full border border-slate-100">
                            <div className="bg-blue-600 w-16 h-16 rounded-2xl flex items-center justify-center mb-6 mx-auto">
                                <svg className="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>
                            </div>
                            <h1 className="text-2xl font-bold text-slate-800 mb-6 text-center leading-tight">ქართული პარონიმები</h1>
                            <div className="space-y-4">
                                <input
                                    type="text" placeholder="სახელი"
                                    className="w-full p-4 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all"
                                    value={state.userName} onChange={e => setState(prev => ({ ...prev, userName: e.target.value }))}
                                />
                                <input
                                    type="text" placeholder="გვარი"
                                    className="w-full p-4 border border-slate-200 rounded-xl focus:ring-2 focus:ring-blue-500 outline-none transition-all"
                                    value={state.userSurname} onChange={e => setState(prev => ({ ...prev, userSurname: e.target.value }))}
                                />
                                <button onClick={handleStart} className="w-full py-4 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl shadow-lg transition-all">დაწყება</button>
                            </div>
                        </div>
                    </div>
                );
            }

            if (state.currentStep === 'quiz') {
                const currentEx = state.exercises[state.currentIndex];
                if (!currentEx) return null;
                const parts = currentEx.originalSentence.split(currentEx.paronym);
                const options = Array.from(new Set([currentEx.correctParonym, currentEx.incorrectParonym]));

                return (
                    <div className="max-w-3xl mx-auto px-4 py-12 fade-in">
                        <div className="mb-6 flex justify-between items-center bg-white p-4 rounded-2xl shadow-sm">
                            <span className="text-sm font-bold text-blue-600 uppercase tracking-widest">სავარჯიშო {state.currentIndex + 1} / {state.exercises.length}</span>
                            <span className="text-sm text-slate-500 font-medium">{state.userName} {state.userSurname}</span>
                        </div>
                        <div className="bg-white p-10 rounded-3xl shadow-xl border border-slate-100 mb-8">
                            <p className="text-xl leading-relaxed text-slate-800 mb-10 text-center italic">
                                "{parts[0]}<span className="text-blue-600 font-bold border-b-2 border-blue-200 px-1">{currentEx.paronym}</span>{parts[1]}"
                            </p>
                            <div className="grid grid-cols-1 gap-4">
                                {options.map((option, idx) => (
                                    <button
                                        key={idx} onClick={() => handleAnswer(option)}
                                        className="p-5 text-lg font-bold bg-slate-50 border-2 border-transparent hover:border-blue-500 hover:bg-blue-50 text-slate-700 rounded-2xl transition-all"
                                    >
                                        {option}
                                    </button>
                                ))}
                            </div>
                        </div>
                        <div className="w-full bg-slate-200 h-3 rounded-full overflow-hidden shadow-inner">
                            <div className="bg-blue-600 h-full transition-all duration-500" style={{ width: `${((state.currentIndex + 1) / state.exercises.length) * 100}%` }}></div>
                        </div>
                    </div>
                );
            }

            const score = state.answers.filter(a => a.isCorrect).length;
            const percentage = Math.round((score / state.exercises.length) * 100);

            return (
                <div className="max-w-4xl mx-auto px-4 py-12 fade-in">
                    <div className="bg-white p-12 rounded-3xl shadow-2xl border border-slate-100 mb-10 text-center">
                        <h1 className="text-4xl font-black text-slate-800 mb-4">შედეგი</h1>
                        <div className="text-7xl font-black text-blue-600 mb-4">{percentage}%</div>
                        <p className="text-xl text-slate-500 mb-8 font-medium">{state.userName} {state.userSurname}</p>
                        <div className="grid grid-cols-2 gap-4 max-w-xs mx-auto">
                            <div className="bg-green-50 p-4 rounded-2xl border border-green-100 text-center">
                                <div className="text-green-600 font-bold">სწორი</div>
                                <div className="text-3xl font-black text-green-700">{score}</div>
                            </div>
                            <div className="bg-red-50 p-4 rounded-2xl border border-red-100 text-center">
                                <div className="text-red-600 font-bold">შეცდომა</div>
                                <div className="text-3xl font-black text-red-700">{state.exercises.length - score}</div>
                            </div>
                        </div>
                    </div>

                    <div className="space-y-6">
                        {state.exercises.map((ex, idx) => {
                            const ans = state.answers.find(a => a.exerciseId === ex.id);
                            return (
                                <div key={ex.id} className={`p-8 rounded-3xl bg-white shadow-lg border-l-8 ${ans?.isCorrect ? 'border-green-500' : 'border-red-500'}`}>
                                    <div className="flex items-center justify-between mb-4">
                                        <span className="font-black text-slate-300">#{idx + 1}</span>
                                        <span className={`px-4 py-1 rounded-full text-xs font-bold uppercase ${ans?.isCorrect ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'}`}>
                                            {ans?.isCorrect ? 'სწორია' : 'შეცდომა'}
                                        </span>
                                    </div>
                                    <p className="text-lg mb-6 text-slate-800 font-medium italic">"{ex.originalSentence}"</p>
                                    <div className="bg-slate-50 p-6 rounded-2xl border border-slate-100">
                                        <p className="text-blue-800 font-bold mb-2">განმარტება:</p>
                                        <p className="text-slate-600 leading-relaxed mb-4">{ex.explanation}</p>
                                        <p className="text-xs text-slate-400 border-t border-slate-200 pt-3">{PARONYM_THEORY[ex.context]}</p>
                                    </div>
                                </div>
                            );
                        })}
                    </div>

                    <button onClick={() => window.location.reload()} className="mt-12 w-full py-6 bg-slate-800 hover:bg-black text-white font-black text-xl rounded-3xl shadow-2xl transition-all">თავიდან დაწყება</button>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
<script type="module" src="/index.tsx"></script>
</body>
</html>
